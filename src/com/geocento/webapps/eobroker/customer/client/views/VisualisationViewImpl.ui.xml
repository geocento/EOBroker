<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:design="urn:import:gwt.material.design.client.ui"
             xmlns:views="urn:import:com.geocento.webapps.eobroker.customer.client.views"
             xmlns:g="urn:import:com.google.gwt.user.client.ui"
             xmlns:sideprofile="urn:import:gwt.material.design.addins.client.sideprofile"
             xmlns:widgets="urn:import:com.geocento.webapps.eobroker.common.client.widgets"
             xmlns:maps="urn:import:com.geocento.webapps.eobroker.common.client.widgets.maps"
        >
    <ui:style field="style" type="com.geocento.webapps.eobroker.customer.client.views.VisualisationViewImpl.Style">

        .displayPanel {

        }

        .name {

        }

        .navOpened main, .navOpened footer {
            padding-left: 350px;
        }

        .description {
            overflow: hidden;
            font-size: 0.8em;
            line-height: 1em;
            height: 2em;
            /* TODO - find something more cross browser */
            -webkit-line-clamp: 2;
            display: -webkit-box;
            -webkit-box-orient: vertical;
        }

        span.dataAccess {
            line-height: 2em !important;
            text-align: center;
            color: grey;
        }

        .selectedDataset {
            color: white !important;
        }

        .dataAccessDetails {
            line-height: normal;
        }

        .loading, .errorMessage {
            margin: 50px 20px;
        }

    </ui:style>
    <ui:with field="resCommon" type="com.geocento.webapps.eobroker.common.client.styles.StyleResources"/>
    <views:TemplateView titleText="View datasets" footer="false" ui:field="template">
        <views:header>
            <widgets:MaterialSideNav width="350" design:id="sideNav" type="FIXED" closeOnClick="false" allowBodyScroll="true" top="64" addStyleNames="{resCommon.style.slimScrollbar}" ui:field="resourcesBar">
                <sideprofile:MaterialSideProfile backgroundColor="blue">
                    <design:MaterialPanel>
                        <design:MaterialImage float="LEFT" ui:field="image"></design:MaterialImage>
                        <design:MaterialPanel marginLeft="70" marginTop="10">
                            <design:MaterialLabel text="" fontSize="1.2em" textColor="white" padding="10" addStyleNames="{style.name}" ui:field="name"></design:MaterialLabel>
                            <design:MaterialPanel>
                                <design:MaterialChip fontSize="0.8em" ui:field="supplier"></design:MaterialChip>
                                <design:MaterialChip visible="false" ui:field="resource"></design:MaterialChip>
                            </design:MaterialPanel>
                        </design:MaterialPanel>
                    </design:MaterialPanel>
                    <design:MaterialLink text="" fontSize="1em" activates="datasets" iconType="ARROW_DROP_DOWN" iconPosition="RIGHT" textColor="WHITE" truncate="true" addStyleNames="{style.selectedDataset}" ui:field="selectedDataset"/>
                </sideprofile:MaterialSideProfile>
                <design:MaterialDropDown activator="datasets" ui:field="dataAccessList">
                </design:MaterialDropDown>
                <widgets:LoadingWidget visible="false" addStyleNames="{style.loading}" ui:field="loading"></widgets:LoadingWidget>
                <design:MaterialLabel visible="false" addStyleNames="{style.errorMessage}" textColor="red" ui:field="errorMessage"></design:MaterialLabel>
                <design:MaterialPanel visible="false" padding="10" addStyleNames="{style.dataAccessDetails}" ui:field="dataAccessDetails">
                    <design:MaterialLabel paddingBottom="20" ui:field="description"></design:MaterialLabel>
                    <design:MaterialRow>
                        <design:MaterialColumn grid="s12">
                            <design:MaterialLink iconType="LINK" truncate="true" ui:field="serverUrl"></design:MaterialLink>
                        </design:MaterialColumn>
                        <design:MaterialColumn grid="s12">
                            <design:MaterialLink iconType="LAYERS" overflow="HIDDEN" truncate="true" ui:field="layerName"></design:MaterialLink>
                        </design:MaterialColumn>
                        <design:MaterialColumn grid="s12">
                            <design:MaterialLabel>Layer controls</design:MaterialLabel>
                            <design:MaterialRow>
                                <design:MaterialColumn grid="s12">
                                    <design:MaterialLabel text="Opacity" marginRight="20" display="INLINE_BLOCK"></design:MaterialLabel>
                                    <design:MaterialRange min="0" max="100" display="INLINE_BLOCK" width="200px" ui:field="opacity"></design:MaterialRange>
                                </design:MaterialColumn>
                            </design:MaterialRow>
                        </design:MaterialColumn>
                    </design:MaterialRow>
                    <design:MaterialLink iconType="STAR" text="Add to saved layers" ui:field="addToFavourites"></design:MaterialLink>
                </design:MaterialPanel>
            </widgets:MaterialSideNav>
        </views:header>
        <g:HTMLPanel addStyleNames="{style.displayPanel}" ui:field="displayPanel">
            <maps:MapContainer width="100%" height="100%" editable="false" search="true" ui:field="mapContainer"></maps:MapContainer>
        </g:HTMLPanel>
    </views:TemplateView>
</ui:UiBinder>
