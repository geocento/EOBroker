<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:m="urn:import:gwt.material.design.client.ui"
             xmlns:widgets="urn:import:com.geocento.webapps.eobroker.customer.client.widgets"
             xmlns:maps="urn:import:com.geocento.webapps.eobroker.common.client.widgets.maps"
             xmlns:sideprofile="urn:import:gwt.material.design.addins.client.sideprofile"
             xmlns:cellview="urn:import:com.google.gwt.user.cellview.client"
             xmlns:views="urn:import:com.geocento.webapps.eobroker.customer.client.views"
             xmlns:widgetsc="urn:import:com.geocento.webapps.eobroker.common.client.widgets">
    <ui:style field="style" type="com.geocento.webapps.eobroker.customer.client.views.ImageSearchViewImpl.Style">

        @external nav-wrapper;

        .providers {
            padding-left: 20px;
            font-size: 1.2em !important;
            line-height: normal !important;
        }

        .providers > i {
            height: inherit !important;
            line-height: normal !important;
        }

        .queryPanel {
            line-height: normal !important;
        }

        .result {
            min-height: 200px;
            overflow: hidden;
            overflow-y: auto;
            padding: 0;
            margin: 0;
        }

        .queryButton {
            text-align: center;
            padding: 10px;
        }

        .mapPanel {
            position: relative;
        }

        .buttonPanel {
            height: 80px;
            line-height: 80px;
            margin: auto;
            text-align: center;
        }

        .sensorSettings {
            float: right;
            line-height: 100%;
        }

        .navOpened main, .navOpened footer {
            padding-left: 450px;
        }

    </ui:style>
    <ui:with field="res" type="com.geocento.webapps.eobroker.customer.client.styles.StyleResources"/>
    <views:TemplateView ui:field="template" titleText="Image Search">
        <views:header>
            <widgetsc:MaterialSideNav width="450" m:id="sideNav" type="FIXED" closeOnClick="false" allowBodyScroll="true" top="64" ui:field="searchBar">
                <sideprofile:MaterialSideProfile url="http://static1.squarespace.com/static/51609147e4b0715db61d32b6/521b97cee4b05f031fd12dde/5519e33de4b06a1002802805/1431718693701/?format=1500w">
                    <m:MaterialLink text="Supplier" activates="provider" textColor="white" iconType="ARROW_DROP_DOWN" iconPosition="RIGHT" addStyleNames="{style.providers}" ui:field="providersLink"></m:MaterialLink>
                    <m:MaterialDropDown activator="provider" ui:field="providerDropdown">
                    </m:MaterialDropDown>
                </sideprofile:MaterialSideProfile>
                <m:MaterialRow padding="0" margin="0" overflow="HIDDEN" addStyleNames="{style.queryPanel}" ui:field="queryPanel">
                    <m:MaterialColumn grid="s12" padding="0" width="100%" height="100%">
                        <m:MaterialTab ui:field="tab" backgroundColor="teal lighten-2">
                            <m:MaterialTabItem waves="YELLOW" grid="s6">
                                <m:MaterialLink text="Query" href="#query" textColor="white"></m:MaterialLink>
                            </m:MaterialTabItem>
                            <m:MaterialTabItem waves="YELLOW" grid="s6">
                                <m:MaterialLink text="Results" href="#results" textColor="white"></m:MaterialLink>
                            </m:MaterialTabItem>
                        </m:MaterialTab>
                    </m:MaterialColumn>
                    <m:MaterialColumn m:id="query" grid="s12" fontSize="0.8em" backgroundColor="white">
                        <m:MaterialRow marginTop="20">
                            <m:MaterialColumn grid="s6">
                                <m:MaterialDatePicker textColor="black" ui:field="startDate" placeholder="Start Date" />
                            </m:MaterialColumn>
                            <m:MaterialColumn grid="s6">
                                <m:MaterialDatePicker textColor="black" ui:field="stopDate" placeholder="Stop Date" />
                            </m:MaterialColumn>
                            <m:MaterialColumn grid="s12">
<!--
                                <m:MaterialTextBox placeholder="Sensors" textColor="black" ui:field="sensors"></m:MaterialTextBox>
-->
                                <widgets:MaterialSensorsSuggestion placeholder="Sensors" textColor="black" ui:field="sensors"></widgets:MaterialSensorsSuggestion>
                            </m:MaterialColumn>
                        </m:MaterialRow>
                        <m:MaterialRow addStyleNames="{style.queryButton}">
                            <m:MaterialColumn grid="s6">
                                <m:MaterialButton text="Search" type="FLAT" textAlign="CENTER" backgroundColor="blue" enabled="false" ui:field="update"/>
                            </m:MaterialColumn>
                            <m:MaterialColumn grid="s6">
                                <m:MaterialButton text="Request" type="FLAT" textAlign="CENTER" backgroundColor="green" enabled="false" ui:field="request"/>
                            </m:MaterialColumn>
                        </m:MaterialRow>
                    </m:MaterialColumn>
                    <m:MaterialColumn m:id="results" grid="s12" padding="0">
                        <g:SimplePanel addStyleNames="{style.result}" ui:field="resultsPanel">
                        </g:SimplePanel>
                        <g:HTMLPanel addStyleNames="{style.buttonPanel}">
                            <m:MaterialButton text="Submit for quote" type="FLAT" textAlign="CENTER" backgroundColor="green" enabled="false" ui:field="submitForQuote"/>
                        </g:HTMLPanel>
                    </m:MaterialColumn>
                </m:MaterialRow>
            </widgetsc:MaterialSideNav>
        </views:header>
        <g:HTMLPanel addStyleNames="{style.mapPanel}" ui:field="mapPanel">
            <maps:ArcGISMap width="100%" height="100%" ui:field="mapContainer">
            </maps:ArcGISMap>
            <!-- FAB -->
            <m:MaterialFAB layoutPosition="ABSOLUTE">
                <m:MaterialTooltip text="Change AoI" position="LEFT">
                    <m:MaterialButton type="FLOATING" backgroundColor="red" iconType="EDIT" size="LARGE"/>
                </m:MaterialTooltip>
                <m:MaterialFABList>
                    <m:MaterialTooltip text="Draw new polygon" position="LEFT">
                        <m:MaterialAnchorButton type="FLOATING" waves="LIGHT" backgroundColor="blue" iconType="CREATE" ui:field="drawPolygon"/>
                    </m:MaterialTooltip>
                    <m:MaterialTooltip text="Clear AoI" position="LEFT">
                        <m:MaterialAnchorButton type="FLOATING" waves="LIGHT" backgroundColor="amber"  iconType="LAYERS_CLEAR" ui:field="clearAoIs"/>
                    </m:MaterialTooltip>
                </m:MaterialFABList>
            </m:MaterialFAB>
        </g:HTMLPanel>
    </views:TemplateView>
</ui:UiBinder>
